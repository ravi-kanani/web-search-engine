wpbeginner beginner's guide for wordpress blog beginners guide news opinion showcase themes tutorials wordpress plugins start here how to start a blog create a website start an online store best website builder email marketing wordpress hosting deals bluehost coupon siteground coupon wp engine coupon hostgator coupon domain.com coupon constant contact view all deals » glossary videos products x ☰ beginner's guide for wordpress / start your wordpress blog in minutes choosing the best wordpress hosting how to easily install wordpress recommended wordpress plugins view all guides wpbeginner » blog » themes » how to add facebook open graph meta data in wordpress themes how to add facebook open graph meta data in wordpress themes last updated on october 17th, 2016 by editorial staff 323 shares share tweet share pin we shared with you how to add the facebook like button in wordpress. then we wrote about how to add the facebook send button in wordpress. now usually, facebook is really smart in pulling in the right data for your posts when they are shared on facebook. however recently, we have been hearing reports of facebook not pulling the right thumbnail image when someone clicks like, not pulling the right page title, etc. well in this article, we will share how you can add facebook open graph meta information in wordpress themes which will solve all of those issues. we have three methods for you, two of them require you to install a plugin. the third method is for intermediate level users who are not shy of modifying their themes. adding facebook open graph meta data with wordpress seo at wpbeginner, and on all our websites we use wordpress seo. it not only helps you add titles and meta descriptions. it is the complete site optimization package for wordpress. wordpress seo also comes equipped with social features, including the ability to add facebook open graph meta data in wordpress themes. first thing you need to do is install and activate, the wordpress seo by yoast plugin. once activated, you need to go to seo » social and simply check the box next toadd open graph meta data. you can save your settings or continue and configure other facebook social options on the screen. you can connect your site to your facebook user account as the admin. doing so you will be able to see facebook insights for this website. you can also provide your facebook page’s url and it will be added into facebook open graph meta data. on the same page, you can add an image and description for your front page. you can also add a default image to be used when an article does not have any image attached to it. that’s all, you have successfully added facebook open graph meta data into your wordpress theme. adding open graph meta data in wordpress using official facebook plugin if you are using another seo plugin like all in one seo, or simply don’t want to install wordpress seo plugin, then you can still add facebook open graph meta data using the official facebook plugin for wordpress. first thing you need to do is install and activate the facebook plugin. simply activating the facebook plugin will add open graph meta deta into your theme’s header. that’s all you have enabled facebook open graph meta data on your wordpress site. using the official facebook plugin allows you to use many other features this robust plugin offers. for example, you can use it to add a facebook likebox / fanbox, embed facebook status posts, add follow button for authors, and much more. manually add facebook open graph meta data into your wordpress theme this method requires you to edit your theme files, so make sure that you backup your theme files before making any changes. simply copy and paste this code in your theme’s functions.php file or a site-specific plugin. 
//adding the open graph in the language attributes
function add_opengraph_doctype( $output ) {
		return $output . ' xmlns:og="http://opengraphprotocol.org/schema/" xmlns:fb="http://www.facebook.com/2008/fbml"';
	}
add_filter('language_attributes', 'add_opengraph_doctype');

//lets add open graph meta info

function insert_fb_in_head() {
	global $post;
	if ( !is_singular()) //if it is not a post or a page
		return;
        echo '<meta property="fb:admins" content="your user id"/>';
        echo '<meta property="og:title" content="' . get_the_title() . '"/>';
        echo '<meta property="og:type" content="article"/>';
        echo '<meta property="og:url" content="' . get_permalink() . '"/>';
        echo '<meta property="og:site_name" content="your site name goes here"/>';
	if(!has_post_thumbnail( $post->id )) { //the post does not have featured image, use a default image
		$default_image="http://example.com/image.jpg"; //replace this with a default image on your server or an image in your media library
		echo '<meta property="og:image" content="' . $default_image . '"/>';
	}
	else{
		$thumbnail_src = wp_get_attachment_image_src( get_post_thumbnail_id( $post->id ), 'medium' );
		echo '<meta property="og:image" content="' . esc_attr( $thumbnail_src[0] ) . '"/>';
	}
	echo "
";
}
add_action( 'wp_head', 'insert_fb_in_head', 5 );
 note: remember to change the site name where it says “your site name goes here”. also change the default image url with the image of yours. we would recommend putting an image with your logo there, so if your post does not have a thumbnail, then it pulls your site’s logo. studies show that posts shared without a thumbnail are less effective than those with thumbnails. also don’t forget to add your user id. you can find your facebook user id by going to this url: http://graph.facebook.com/syedbalkhi (just replace syedbalkhi with your own username). that’s all you need to do. as soon as you save your functions.php file (or site-specific plugin) it will start showing facebook open graph meta data in wordpress header. we hope this article helped you add facebook open graph meta data in wordpress. its a great way to get users engaged with your content on facebook’s massive social platform. if you liked this article, then please subscribe to our youtube channel for more wordpress video tutorials. you can also find us on twitter and facebook. 323 shares share tweet share pin popular on wpbeginner right now! how to install google analytics in wordpress for beginners how to start your own podcast (step by step) how to properly move your blog from wordpress.com to wordpress.org revealed: why building an email list is so important today (6 reasons) about the editorial staff editorial staff at wpbeginner is a team of wordpress experts led by syed balkhi. trusted by over 1.3 million readers worldwide. 204 commentsleave a reply indranil paul says: may 8, 2019 at 11:19 am if i use the yoast seo settings, will it take times for showing the perfect result in facebook share? or will it start working within minutes? reply wpbeginner support says: may 9, 2019 at 11:06 am that would depend on your site’s caching and any caching on facebook for how long it takes reply indranil paul says: may 9, 2019 at 1:33 pm i’m facing this problem in all social sharing sites. reply wpbeginner support says: may 10, 2019 at 11:02 am if it is not showing what you set on every social site, you would want to reach out to yoast’s support and let them know to ensure there isn’t a problem with the plugin. udaya bhaskar says: apr 28, 2019 at 6:10 am hello when i share my post in facebook it’s how my post featured image . but when i share in whatsapp it’s not show my featured image with link please help me.. reply wpbeginner support says: apr 29, 2019 at 1:12 pm if you’re using yoast to add the meta data, we would first recommend reaching out to yoast to ensure that there aren’t any known issues. reply colin says: jul 23, 2018 at 5:51 am my title looks like this in the preview: %%title%% %%page%% %%sep%% %%sitename%% how do i fix this? reply pramod singh says: jun 20, 2018 at 11:51 pm hello please help me facebook has blocked my site, now in the facebook developer app, i can not even link my site because it has blocked the facebook please tell me how to unblock your website with facebook reply sadie says: apr 27, 2018 at 10:43 am hello please can you advise when using a child theme – do i need to copy the parent theme functions.php and then add the above script to a newly created functions.php and upload it to the child theme folder or do i just add the script to the parent theme functions.php thanks for reading sadie reply wpbeginner support says: apr 27, 2018 at 9:40 pm hi sadie, you can add it to either functions.php file. reply max says: apr 17, 2018 at 7:23 pm how would i remove the “by …” from appearing on the card? currently we have an issue where it displays as: site-name | by site-name we just want the first website name to appear and not twice. reply laura says: apr 17, 2018 at 10:00 am i’m using this on a self-hosted website. what do i do about the user id that i’m supposed to replace since the site is not on wordpress.com? reply suraj says: apr 14, 2018 at 11:26 am hello, i have a big problem!! when i share my post in facebook it’s how my post featured image . but when i share in whatsapp it’s not show my featured image with link please help me.. reply malik adil says: mar 5, 2018 at 12:41 pm all good, but still one problem, how to add facebook id..after using this code, following facebook id message appears. the ‘fb:app_id’ property should be explicitly provided, specify the app id so that stories shared to facebook will be properly attributed to the app. alternatively, app_id can be set in url when open the share dialog. reply eric hepperle says: jan 23, 2018 at 7:18 am i enjoyed this article, but in january 2018 this *manual code* option doesn’t appear to work completely. for instance, though i have verified that the default image property works, when i create a new post, i don’t see anywhere a field where one can begin to edit “open graph (og)” metadata. suggestions? thanks! reply mahesh yadav says: jan 18, 2018 at 7:17 am thanks for such great information. but i have one question. how helpful it is to add facebook graph meta data in our site..? and if it is very much helpful, for what purpose, it is helpful..? reply elsa says: nov 16, 2017 at 10:37 pm this plugin gave me a white screen of death, obviously a conflict with something or memory exceeded reply jin miller says: sep 23, 2017 at 7:41 pm what if i am wanting to change the thumbnail image not for the whole site, but just a page off my wordpress site : for example i’m trying to share an event page from my site and would like a unique, relevant thumbnail. help? reply nikki says: nov 20, 2017 at 6:27 pm hi jin, did you ever get an answer to your question? i’m looking for the same information. thank you! reply vic says: sep 21, 2017 at 11:02 am hey, i wanted to include worpress seo by yoast but im not sure if latest version is compatible with my version of worpress (4.2.2) do you know if is safe to activate? thanks guys reply martin says: sep 6, 2017 at 5:59 pm does my facebook profile have to be public in order for my facebook user id to be good to use here? reply martin says: sep 6, 2017 at 5:58 pm i’ve added the code for manually adding this to my theme. however, things aren’t working. does my profile have to be public in order for my facebook user id to be accessible? reply wpbeginner support says: sep 8, 2017 at 12:16 am hi martin, yes it would work. reply jordan carter says: aug 24, 2017 at 5:01 pm is this still valid for today? i tried it and works, but i noticed in the code the following: “xmlns:fb=”http://www.facebook.com/2008/fbml”‘; isn’t 2008 a little old? is there a newer protocol we should be using today? reply wagner lungov says: jul 20, 2017 at 6:50 am hello, thanks for posting. i remained with one doubt. i understood that the in each post is dynamically constructed by the functions you explained so well. what i can’t figure out is where the variables called by that function are defined and stored. when you put property=”og:type” content=”article”/, ok you are defining with a fixed string. but when you use: property=”og:title” content=”‘ . get_the_title() . ‘”, where is the function get_the_title() going to get it? how can i define before hand those values for each post in a way that the code will pick the right meta data for each parameter? reply jordan carter says: aug 24, 2017 at 5:05 pm get_the_title() will get your post title. if you want to use something else, you could always get the value from a meta box. with the advanced custom fields plugin, it would be something like get_field(“my_field”), or with a regular wordpress custom meta field it would be get_post_meta($post->id, “my_field”, true). see get_post_meta() reply jolanda says: jan 25, 2017 at 5:57 am nicely explained! i try to figure out where i can add the code in checking the size of the featured image, since fb needs a size with a minimum of 200px for both width and height, otherwise it will use another image from the post. any help would be great! reply mohsin rafique says: dec 27, 2016 at 8:57 am nicely explained & works like a charm. reply devyn says: nov 30, 2016 at 8:01 pm i’ve been trying to use yoast to enable my meta data so i can use rich pins on pinterest. i’ve done what this tutorial says, but pinterest still won’t recognize my post. is there another plugin i could try? reply michelle says: oct 20, 2016 at 10:52 am i added the yoast plugin and there is no social option. please help me. i am at my wits end with this issue. reply brent watkins says: nov 18, 2016 at 1:05 pm same problem here. reply glenford says: feb 11, 2017 at 6:24 pm once you have yoast installed the look under seo » dashboard » titles & metas and under that is social. in social you should enable the “add open graph meta data” in the facebook tab. reply xavier says: apr 22, 2017 at 12:19 pm this option just isn’t there with v4.6 of the plugin. under seo >> dashboard, the tabs i have are: dashboard, general, features, company info, webmaster tools and security. no mention of titles & metas or social. is this because i haven’t set up a facebook social profile? surely this shouldn’t be needed just to be able to configure og stuff! reply wpbeginner support says: apr 22, 2017 at 6:42 pm hey xavier, first you would need to go to seo » features page and then click ‘enable’ under ‘show advanced settings pages’ option. this will display advanced settings pages in yoast seo. for more details see our article on how to install and setup yoast seo. joe barrett says: sep 24, 2016 at 1:30 pm i added social sharing to the search result template, so each excerpt has a share button but the meta data that is shared is messed up and uncontrollable with this, is there a way to make this work better when there are 20 reuslts on the same page with different meta description for each? reply giovanna says: sep 23, 2016 at 11:04 am hi can you help me please? i added the code in function and what i have to add in the head please? reply benjamin s says: aug 29, 2016 at 12:39 pm here’s also a nice improvement to make an exception for the home-page: if (is_front_page()){ echo ”; echo ”; echo ”; }else{ echo ”; echo ”; } reply benjamin says: aug 29, 2016 at 11:22 am i just want to say thanks! … this is very helpful, you the best! reply wpbeginner support says: aug 30, 2016 at 4:05 am glad you found it helpful. don’t forget to follow us on facebook for more wordpress tips and tutorials. reply laura k says: aug 2, 2016 at 11:45 pm i’ve downloaded the yoast plugin, and set it up for my home page, but when i enter the website on facebook it still won’t show the image i’ve specified, or the text snippet i’ve written. also can’t find my facebook url using the link you provided, it just gives me an error… i tried debug but it says facebook pages can’t be debugged, and they have no cache. sooooo….nothing has worked so far! reply wpbeginner support says: aug 3, 2016 at 4:14 am you need to enter your wordpress site url in the debug tool. reply courtney says: mar 2, 2016 at 5:11 pm hi there, i have seo yoast and i uploaded the new image and its still not working on facebook……??? reply massimodifa says: jan 18, 2016 at 11:49 am thank you, manually added open graph on header, perfect!! thank you!! reply d says: nov 19, 2015 at 10:58 pm i just wanted to thank you for this very thorough description on the process of connecting facebook to your wordpress page. i’ve been trying to do for days now following other sites and recommendations. this evening i came across your page from a google search and bam, it worked. hooray! thanks a lot. reply amanda paul says: jul 2, 2015 at 1:19 am thanks for this info. it was really easy to follow. i uploaded the yoast plugin and followed all the steps and saved but the thumbnail is still just a blank box. does it take some time to flow through? do i need to log out and back in again to facebook? or wordpress? reply mahmud ayaz says: jun 18, 2015 at 5:31 am hi! when i replace this link with my name http://graph.facebook.com/syedbalkhi got this error { “error”: { “message”: “(#803) cannot query users by their username (mahm0od)”, “type”: “oauthexception”, “code”: 803 } } any solution? reply daniele besana says: sep 11, 2014 at 9:08 am hi guys, i’m having problems with og:description, basically all the formatting is missing on the shared page. new lines are not respected, how can i control that? thanks! reply jc says: oct 31, 2014 at 7:29 am i have the same problem, also getting og:description missing reply amelliya says: feb 17, 2015 at 9:32 am me too – any help? reply ac says: apr 17, 2015 at 6:14 am i have the same problem, and i cannot use fb debugger because i work in localhost… reply marc says: jun 5, 2015 at 6:33 am this worked for me: $metadesc = strip_tags(get_post_field(‘post_content’, $post->id)); echo ”; (my posts had a very short content) reply kim mccann says: apr 21, 2016 at 6:07 pm the following works by pulling from your excerpt. just add under og:title reply wpbeginner staff says: aug 3, 2014 at 9:15 pm check your page using facebook debug tool https://developers.facebook.com/tools/debug usually checking a page with the debug tool refreshes the facebook’s cache and you will be able to see the new image. reply bk says: aug 4, 2014 at 1:27 am thank you for taking the time to reply. will give it a shot! reply bk says: aug 3, 2014 at 2:47 am thanks for this. i want to share link directly from my site using the social button. however, when i click on for example the facebook share button, the image and the description is still using a previous information. although i have updated the image and description using yoast seo and specifically customise the image and description for that post. may i know what did i do wrongly? reply naren patel says: jul 19, 2014 at 3:27 pm thank you very much, i really want this information. reply robin says: jul 7, 2014 at 3:20 pm thank you. i can’t tell you how long i have been trying to figure this out. easy to do with ziplist for recipes but could not figure it out for articles. reply maria says: jun 16, 2014 at 12:59 pm hi! i have a issue that i don’t know how to solve. when i try to share a link on facebook from my blog, or a particular page this message appera “page not found” or the link with symbols i don’t understand. i controlled th elinks with object debugger and this is what appear: required property ‘og:title’ of type ‘string’ was not provided. how can i solve it, please? reply salih kulangara says: jun 16, 2014 at 5:14 am @ syed balkhi. —– just want to ask you this, after all i have got setup all the tags, and got a clean debug test result without any warning, when any one click on the facebook like button i used in my web page, it’s not showing up in the facebook timeline feed, just showing up in the recent activity section only, why is this, is there anything else i have to add to get it be shown in the newsfeed directly when the click the like button?????? reply anas khan says: jun 10, 2014 at 7:37 am great tutorial, i want to know is there any tutorial about open graph meta for google plus ? reply wpbeginner staff says: jun 9, 2014 at 8:55 pm did you set a featured image? did you replace the default image url in the code with your own image url? reply ikix says: jun 9, 2014 at 8:57 am hello, i’ve tried everything i could an i can’t display thumbnail image when i post my blog url on facebook, i already add the code as you said, i download tons of plugings and there is no image in facebook! can you help me please? pleeease! reply jason c. says: may 29, 2014 at 2:32 pm what about just for a single image to be added to the thumbnail options in facebook? i’ve noticed it picks up my featured image no problem, but doesn’t pick up the others in the post. is there a way to manually add them with some quick code? reply wpbeginner staff says: may 22, 2014 at 3:50 pm sorry the plugin is no longer available. we have updated the article, with new information. hope this will help you add facebook open graph meta data into your wordpress. site. reply adepush says: may 21, 2014 at 12:11 pm hi, is your plugin still available on wordpress.org? http://wordpress.org/plugins/facebook-open-graph-meta-in-wordpress/ a. reply m says: apr 29, 2014 at 1:45 pm its still pulling the image from the sidebar instead of the image i have put in the functions file? reply damian says: apr 6, 2014 at 9:49 am what about og:description? reply musadiq says: mar 31, 2014 at 7:20 pm hi, how can i include a facebook in the code above? so it can directly publish an article to our profile timeline and also to our facebook page. thank you reply hassan says: mar 16, 2014 at 2:41 pm its not working for me when i share my posts on face book its only shows my last instagram pics reply loes liemburg says: feb 10, 2014 at 11:19 am hi, i installed this plug-in, but can’t see the og-options in my settings menu. i’ve refreshed and waited, but still nothing. what has gone wrong? reply « 1 2 3 leave a reply cancel reply thanks for choosing to leave a comment. please keep in mind that all comments are moderated according to our comment policy, and your email address will not be published. please do not use keywords in the name field. let's have a personal and meaningful conversation. don't subscribe all replies to my comments notify me of followup comments via e-mail. you can also subscribe without commenting. over 1,320,000+ readers get fresh content from wpbeginner featured wordpress plugin wpforms drag & drop wordpress form builder plugin. learn more » i need help with ... starting a blog wordpress performance wordpress security wordpress seo wordpress errors building an online store useful wordpress guides 7 best wordpress backup plugins compared (pros and cons) how to fix the error establishing a database connection in wordpress why you need a cdn for your wordpress blog? [infographic] 25 legit ways to make money online blogging with wordpress self hosted wordpress.org vs. free wordpress.com [infograph] free recording: wordpress workshop for beginners 24 must have wordpress plugins for business websites how to properly move your blog from wordpress.com to wordpress.org 5 best contact form plugins for wordpress compared which is the best wordpress popup plugin? (comparison) best woocommerce hosting in 2020 (comparison) how to fix the internal server error in wordpress how to install wordpress - complete wordpress installation tutorial why you should start building an email list right away how to properly move wordpress to a new domain without losing seo how to choose the best wordpress hosting for your website how to choose the best blogging platform (comparison) wordpress tutorials - 200+ step by step wordpress tutorials 5 best wordpress ecommerce plugins compared 5 best wordpress membership plugins (compared) 7 best email marketing services for small business (2020) how to choose the best domain registrar (compared) the truth about shared wordpress web hosting when do you really need managed wordpress hosting? 5 best drag and drop wordpress page builders compared how to switch from blogger to wordpress without losing google rankings how to properly switch from wix to wordpress (step by step) how to properly move from weebly to wordpress (step by step) do you really need a vps? best wordpress vps hosting compared how to properly move from squarespace to wordpress how to register a domain name (+ tip to get it for free) hostgator review - an honest look at speed & uptime (2020) siteground reviews from 1032 users & our experts (2020) bluehost review from real users + performance stats (2020) how much does it really cost to build a wordpress website? how to create an email newsletter the right way (step by step) 7 best crm software for small businesses (compared) how to create a free business email address in 5 minutes (step by step) how to install google analytics in wordpress for beginners how to move wordpress to a new host or server with no downtime why is wordpress free? what are the costs? what is the catch? how to make a website in 2020 – step by step guide deals & coupons (view all) nextiva coupon get the lowest possible price on the best voip and business phone service. seedprod coupon get 20% off on seedprod coming soon page plugin for wordpress. featured in about wpbeginner® wpbeginner is a free wordpress resource site for beginners. wpbeginner was founded in july 2009 by syed balkhi. the main goal of this site is to provide quality tips, tricks, hacks, and other wordpress resources that allows wordpress beginners to improve their site(s). site links about us contact us ftc disclosure privacy policy terms of service free blog setup our sites optinmonster monsterinsights wpforms seedprod nameboy rafflepress copyright © 2009 - 2020 wpbeginner llc. all rights reserved. wpbeginner® is a registered trademark. managed by awesome motive | wordpress hosting by siteground | wordpress cdn by maxcdn | wordpress security by sucuri.