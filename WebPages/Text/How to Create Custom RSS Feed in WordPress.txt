wpbeginner beginner's guide for wordpress blog beginners guide news opinion showcase themes tutorials wordpress plugins start here how to start a blog create a website start an online store best website builder email marketing wordpress hosting deals bluehost coupon siteground coupon wp engine coupon hostgator coupon domain.com coupon constant contact view all deals » glossary videos products x ☰ beginner's guide for wordpress / start your wordpress blog in minutes choosing the best wordpress hosting how to easily install wordpress recommended wordpress plugins view all guides wpbeginner » blog » tutorials » how to create custom rss feeds in wordpress how to create custom rss feeds in wordpress last updated on february 19th, 2016 by editorial staff 88 shares share tweet share pin wordpress comes with built-in default rss feeds. you can tweak the default feeds by adding custom content to your rss feeds, or even adding post thumbnail to your rss feeds. the default rss and atom feeds are enough for most users, but you may wish to create a custom rss feed for delivering specific type of content. in this article, we will show you how to create custom rss feeds in wordpress. please note that this tutorial is not intended for beginner level wordpress users. if you are a beginner, and still want to try it, then please do so on a local install. as always, you must create a complete backup of your wordpress website before making any major changes to a live website. having said that, let’s get started with your first custom rss feed in wordpress. let’s assume you want to create a new rss feed which displays just the following information: title link published date author excerpt first thing you need to do is create the new rss feed in your theme’s functions.php file or in a site-specific plugin: 

add_action('init', 'customrss');
function customrss(){
        add_feed('feedname', 'customrssfunc');
}

 the above code triggers the customrss function, which adds the feed. the add_feed function has two arguments, feedname, and a callback function. the feedname will make up your new feed url yourdomain.com/feed/feedname and the callback function will be called to actually create the feed. make a note of the feedname, as you’ll need this later on. once you have initialized the feed, you’ll need to create the callback function to produce the required feed, using the following code in your theme’s functions.php file or in a site specific plugin: 
function customrssfunc(){
        get_template_part('rss', 'feedname');
}
 the code above is using the get_template_part function to link to a separate template file, however you can also place the rss code directly into the function. by using get_template_part, we can keep the functionality separate to the layout. the get_template_part function has two arguments, slug and name, that will look for a template file with the name in the following format, starting with the file at the top (if it doesn’t find the first, it will move on to the second, and so on): wp-content/themes/child/rss-feedname.php wp-content/themes/parent/rss-feedname.php wp-content/themes/child/rss.php wp-content/themes/parent/rss.php for the purposes of this tutorial, it is best to set the slug to the type of feed you’re creating (in this case: rss), and the name to the feedname configured earlier on. once you’ve told wordpress to look for the feed template, you’ll need to create it. the below code will produce the layout for the feed with the information we listed earlier. save this file in your theme folder as the slug-name.php template file configured in the get_template_part function. 
<?php
/**
 * template name: custom rss template - feedname
 */
$postcount = 5; // the number of posts to show in the feed
$posts = query_posts('showposts=' . $postcount);
header('content-type: '.feed_content_type('rss-http').'; charset='.get_option('blog_charset'), true);
echo '<?xml version="1.0" encoding="'.get_option('blog_charset').'"?'.'>';
?>
<rss version="2.0"
        xmlns:content="http://purl.org/rss/1.0/modules/content/"
        xmlns:wfw="http://wellformedweb.org/commentapi/"
        xmlns:dc="http://purl.org/dc/elements/1.1/"
        xmlns:atom="http://www.w3.org/2005/atom"
        xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
        xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
        <?php do_action('rss2_ns'); ?>>
<channel>
        <title><?php bloginfo_rss('name'); ?> - feed</title>
        <atom:link href="<?php self_link(); ?>" rel="self" type="application/rss+xml" />
        <link><?php bloginfo_rss('url') ?></link>
        <description><?php bloginfo_rss('description') ?></description>
        <lastbuilddate><?php echo mysql2date('d, d m y h:i:s +0000', get_lastpostmodified('gmt'), false); ?></lastbuilddate>
        <language><?php echo get_option('rss_language'); ?></language>
        <sy:updateperiod><?php echo apply_filters( 'rss_update_period', 'hourly' ); ?></sy:updateperiod>
        <sy:updatefrequency><?php echo apply_filters( 'rss_update_frequency', '1' ); ?></sy:updatefrequency>
        <?php do_action('rss2_head'); ?>
        <?php while(have_posts()) : the_post(); ?>
                <item>
                        <title><?php the_title_rss(); ?></title>
                        <link><?php the_permalink_rss(); ?></link>
                        <pubdate><?php echo mysql2date('d, d m y h:i:s +0000', get_post_time('y-m-d h:i:s', true), false); ?></pubdate>
                        <dc:creator><?php the_author(); ?></dc:creator>
                        <guid ispermalink="false"><?php the_guid(); ?></guid>
                        <description><![cdata[<?php the_excerpt_rss() ?>]]></description>
                        <content:encoded><![cdata[<?php the_excerpt_rss() ?>]]></content:encoded>
                        <?php rss_enclosure(); ?>
                        <?php do_action('rss2_item'); ?>
                </item>
        <?php endwhile; ?>
</channel>
</rss>
 this template code will generate an rss feed following the above layout. the postcount variable allows you to control the number of posts to display in your feed. the template can be amended as required to display whatever information you require (e.g. post images, comments, etc). the the_excerpt_rss function will display the excerpt of each post, and for posts that do not have excerpts, it will display the first 120 words of the post’s content. finally, to display your feed, you’ll first need to flush your wordpress rewrite rules. the easiest way to do this is by logging in to the wordpress admin, and clicking settings -> permalinks. once here, just click save changes, which will flush the rewrite rules. you can now access your new feed at yourdomain.com/feed/feedname, where feedname was the feedname you gave in the add_feed function earlier on. the w3c offers a feed validation service, allowing you to validate the resulting feed. troubleshooting i’m getting a 404 error when trying to view my feed! check to see if you are using the correct feedname in your url. it has to be the one you supplied in the add_feed function if you have the correct feedname, your rewrite rules may not have flushed correctly. re-save your permalinks just to be sure. if you’ve re-saved your permalinks, you can force a rewrite flush via your theme’s functions.php file. add the following code to the customrss function we created earlier. make sure you add the code after the add_feed function. 
global $wp_rewrite;
$wp_rewrite->flush_rules();
 once you’ve added this, reload your wordpress site. note: this should be removed immediately after use. once is enough for the rules to be flushed. my feed isn’t validating! using the w3c feed validator, specific details should be given where your feed isn’t validating. edit the feed template file to resolve these issues i’m getting a <language /> validation error! this is common where the rss language has not been configured on your wordpress installation. to do this, you can add the following code to your theme’s functions.php file, to update the language option. 
function rsslanguage(){
        update_option('rss_language', 'en');
}
add_action('admin_init', 'rsslanguage');
 edit the second argument of the update_option function to change the language to one you require. check out the full list of rss language codes. once the above code has been added to your functions file, load the wordpress admin screen for it to take effect. after this, the code should be removed from your wordpress functions file. loading it once is enough to configure the rss_language setting. this can also be done directly in the database, by looking for the rss_language option in the wp_options table. we hope this article helped you create your own custom rss feeds in wordpress. let us know how and why you will be using custom rss feeds on your wordpress site by leaving a comment below. 88 shares share tweet share pin popular on wpbeginner right now! checklist: 15 things you must do before changing wordpress themes how to install google analytics in wordpress for beginners how to start your own podcast (step by step) revealed: why building an email list is so important today (6 reasons) about the editorial staff editorial staff at wpbeginner is a team of wordpress experts led by syed balkhi. trusted by over 1.3 million readers worldwide. 58 commentsleave a reply moosa says: feb 18, 2018 at 2:32 pm how can i use “wp_get_shortlink()” instead of “the_permalink_rss()” reply john snyder says: oct 6, 2017 at 4:52 pm i need to create an xml feed for a specific page on my wordpress website. here is the page will i have to edit my functions.php file or is there an easier way? reply alok shrestha says: sep 19, 2017 at 4:44 am hello, this article is very helpful but i got some issue. i did exactly like in your code. but it gives me an error as this page contains the following errors: error on line 1 at column 7: xml declaration allowed only at the start of the document below is a rendering of the page up to the first error. could you please help me out what could possibly go wrong here? this is very important for me. thank you. reply nathan says: oct 23, 2017 at 6:57 am i got the same error. did you figure out the fix? reply rich says: jan 24, 2018 at 9:47 am use ob_clean(); after php tag reply guillermo says: apr 6, 2017 at 1:06 am hi, is it possible to change de order of the posts in my feeds without creating a new custom feed? i want to use the current feed files but just want to change the displayed order of theme. using php queries as an example, changing order from desc to rand() i will appreciate you help. thanks. reply jeremy says: apr 4, 2017 at 1:58 pm great post! i definitely fall under the rookie status. many feed readers/aggregators don’t seems to like the /feed/ url structure, even through the xml returned validates. is there a way to append the url to end with rss.xml? reply dave says: oct 13, 2017 at 12:57 am did you get this to work with .xml at the end? reply jduran says: mar 12, 2017 at 4:42 pm sorry to say, however, implementing the codes for custom rss has effectively wiped out my entire blog. having to do a restore and it is taking a long time to get my blog back up. any advise? reply mark says: apr 13, 2017 at 9:03 am you need to connect to your site via ftp or your hosting’s file browser in cpanel, and simply remove what you added. if you added the code as a custom plugin, then just rename the plugin folder. if you added the code in functions.php, edit the file and remove the code. don’t forget to backup the file before editing. hope this helps for the next time. reply jim says: mar 3, 2017 at 11:57 am fantastic! this works as advertised! reply drlightman says: feb 27, 2017 at 11:56 am never mind, it does. i had a bug with yoast seo that with the /category/ prefix removal. i have warned them of it i hope they will fix it. reply drlightman says: feb 27, 2017 at 6:24 am hello, thank you for the article, but it seems this will only work for the main site feed, not for the specific catgories feeds: mysite.com/category/mycat/feed/feedname/ reply manuel says: feb 4, 2017 at 11:17 am doesn’t work anymore. i got a 404 error, so i activated debug mode. debug mode says “notice: the called constructor method for wp_widget is deprecated since version 4.3.0! use __construct()” reply manuel says: feb 4, 2017 at 11:24 am ok, i think the problem was elsewhere and this notice is from a different plugin. reply git says: nov 12, 2016 at 2:21 pm unfortunately this is restricted in its usefulness. inserting screenshots and sample pages would be very helpful, particularly for amateurs/rookies like me. reply tiffany says: oct 14, 2016 at 2:43 pm great article. any way to add the featured image for the post to the feed? reply wpbeginner support says: oct 16, 2016 at 4:07 pm please see our guide on how to add featured image to your wordpress rss feed. reply ct says: sep 28, 2016 at 3:12 pm please see below screenshots – what determines the “…” or “[…]” or “read more ->” etc etc in feeds? i’m using the default /feed in 2 different wp sites & these 2 screenshots obviously are showing something different at the end of their excerpts. thanks! reply ct says: sep 27, 2016 at 6:00 pm apologizes but that code did not come through clear lol. lets try that again. go here to see the exact, raw code i’m looking to remove: reply wpbeginner support says: sep 27, 2016 at 7:48 pm this code is added by yoast seo plugin to rss feeds. you can turn it off by visting seo » advanced page. reply stef says: aug 1, 2016 at 2:42 pm hey, i want to exclude certain post_formats from my custom rss feed. is that possible and if so, how? reply neha says: jul 20, 2016 at 1:14 am hello, when i try to view the feed i got 404 page not found error. i am trying to add code: global $wp_rewrite; $wp_rewrite->flush_rules(); then i also got same error. could this be why? reply jordan says: may 30, 2016 at 8:52 am how do you add multiple feeds? array is not working. thanks. reply jon harvey says: may 26, 2016 at 10:31 pm how would you add multiple custom feeds? couldn’t get an array to work. thanks reply jon harvey says: may 31, 2016 at 6:32 pm got it to work neatly thanks to birgire at stack exchange: add_action( ‘init’, ‘custom_feeds’ ); function custom_feeds() { foreach( array( ‘feedname1’, ‘feedname2’ ) as $name ) { add_feed( $name, function() use ( $name ) { get_template_part( ‘rss’, $name ); } ); } } reply neal pope says: may 3, 2016 at 2:41 pm the “follow” button shows up at the bottom right corner when viewing posts on a personal computer, but does not appear when viewing on a mobile devise (smartphone) (unless i’m just missing it. reply limbani says: mar 1, 2016 at 12:45 am thanks for sharing it’s work perfectly… reply jeff says: feb 19, 2016 at 10:18 am sorry, but everything about this is misleading. this is not “beginner” work. and it is not worded for beginners. this is totally irresponsible and can cause major issues to people’s websites. reply wpbeginner support says: feb 19, 2016 at 8:47 pm we have updated the article to add a note about this. reply christine says: oct 28, 2015 at 2:06 pm i got this working (kind of). the feed page exists, but will not validate and says there is an error on line 1. i copied the code exactly from this page and haven’t changed anything. what could be going wrong here? reply flávia says: jan 21, 2016 at 5:19 am w3 will not validate mine as well and says there is an error on line 17. and i am getting the 404 page! what should i do? reply eugene asiamah says: jul 16, 2015 at 5:04 pm hello, please i need help in configuring my rss to show all my post content on not just an excerpt of it. thank you. reply georgi says: jul 3, 2015 at 8:10 am hello, i need to show only date without time for pubdate. when i use it’s doesn’t work for firefox,ie. can you help me? thank you in advance! reply jan-philipp says: apr 12, 2015 at 4:49 am hi. i would like to change the update pattern of the feed with sy:updateperiod echo apply_filters( ‘rss_update_period’, ‘weekly’ ); /sy:updateperiod sy:updatefrequency echo apply_filters( ‘rss_update_frequency’, ‘1’ ); /sy:updatefrequency> sy:updatebase 2015-03-29t01:00:00+09:00 /sy:updatebase but whatever i tried, it automatically adds a new post when i publish it and does not wait till sunday ( as defined in the code above) to add it to the rss. do you have any suggestions? do i maybe need to find a solution within the wp query? your help would be much appriciated. reply jan-philipp says: apr 12, 2015 at 4:40 am hi. i would like to change the update pattern of the feed with 2015-03-29t01:00:00+09:00 but whatever i tried, it automatically adds a new post when i publish it and does not wait till sunday ( as defined in the code above) to add it to the rss. do you have any suggestions? do i maybe need to find a solution within the wp query? your help would be much appriciated. reply issabellla says: mar 27, 2015 at 12:24 am hi.i try to do as your mention but i’ve seen my site cannot access to the feed page.this is my site i try to use /feed and a lot of word which is mention in wordpress.com or wordpress.org even in the google.please help me. reply wpbeginner support says: mar 29, 2015 at 2:40 pm your site’s feed looks fine to us. reply xuamox says: jul 8, 2014 at 7:30 pm what determines that the feed will be displayed at feed/feedname? i have tried to follow the tutorial, but not luck at all. the feed is not publishing at feed/feedname.php reply wouter bertels says: may 8, 2014 at 5:09 pm following these exact steps i got this error: fatal error: cannot redeclare get_bloginfo_rss() (previously declared in /home/public_html/wp-includes/feed.php:25) in /home/public_html/wp-content/themes/xxx/rss-name.php on line 39 reply george says: apr 29, 2014 at 2:34 pm hi, my feed is ok when this code is added: global $wp_rewrite; $wp_rewrite->flush_rules(); and returns a 404 when it is removed. i only remove it as per your instructions, which is to remove it after reloading wordpress. at this moment i am testing it on my local server. could this be why? reply ybmgryzzz says: apr 29, 2014 at 8:04 am hi there. thanks for this post! really appreciated. worked well at first go! i would also like some assistance as brian below. for the full text in the rss instead of the post excerpt. thanks in advance. reply brian says: feb 24, 2014 at 2:37 pm i am trying to add a second rss feed that is full text (my first rss feed is summary). if i wanted this custom rss feed to be full text instead of summary excerpt, what would i change? thanks so much! reply steve marks says: feb 19, 2014 at 2:55 am thanks for this. just what i was looking for! i had an issue when i used add_feed(). i could view the rss feed in the browser absolutely fine, but it would return a 404 when i entered the url into a third party application (ie. mailchimp, w3c feed validator etc). i had tried flushing the permalinks etc. the only way i could get round the issue was to create a new blank page and select the template as the one you’ve outlined in this article. not sure why it didn’t work, but hopefully this offers a viable solution for others in this situation. thanks again! reply josh mcclanahan says: feb 16, 2014 at 1:20 am your article is right on the path of what i was looking for. one question i have (as a noob to rss), how can i add a link to an rss feed? the site that i need this for is a church and would like to have a custom feed that would make it easier for our members to be alerted to newly posted sermon posts (that have mp3 download links). currently, the feed shows the text for the links that i have created on the posts for the sermons. but it only acts as text. any help would be appreciated. reply josh mcclanahan says: feb 19, 2014 at 5:57 pm just noticed that i didn’t ask my question correctly. what i was trying to ask was, how can i display a link in the rss feed? the links that are in the content of my posts are broken in the feed. thanks for your help and this article. reply josh mcclanahan says: mar 1, 2014 at 9:32 am still curious, if anyone knows why my links would be broken and only show as plain text in a feed? to see what i mean checkout: http://amfmchurch.com/feed you will see “download” in plain text. i would like to make it so that people can click the anchor link and download the mp3. this works find on the actual site. thanks for any help. reply neil says: jan 11, 2014 at 7:08 pm hi, i have the default rss feed.. but i would like to be able to either reduce the size of the images from what is displayed in the post…. (to a maximujm width of 265px) or to just use the post thumbnail in the rss. is either of the above possible? the reason i am looking to do this is that my rss feeds an app and the app will only display images up to 265px in width (before horizontal scrolling) and 265px is very limiting for online/pc blog posts… reply cathy finn-derecki says: dec 10, 2013 at 6:12 pm thank you for this! i am making a custom rss location part of a plugin i’m developing. as a result, i have included the text for the custom rss in the function, not in a theme template. it’s working. however, it does not seem to work when i want to restrict the feed to a category. it gives all posts regardless. any thoughts? reply wpbeginner support says: dec 13, 2013 at 7:58 pm try changing $posts = query_posts('showposts=' . $postcount);
 to: $posts = query_posts('showposts=' . $postcount.'&category_name=staff'); replace category_name with your category name. reply francisco espinoza says: oct 12, 2017 at 5:16 pm hi guys. how can i use this to exclude three categories from my new custom feed? what do you suggest? reply alexis says: nov 23, 2013 at 3:57 pm hello, thank you, these explanations are really useful. i just used it to customize my feed so i could put an image in mailchimp’s “rss to email” feature. thank you very much ! reply the off says: nov 14, 2013 at 3:52 am hello, till yesterday afternoon, my wordpress (version 3.6.1) blog http://theoff.info/wordpress/ had no problem. and i successfully added new plugins. in the night, problems started: (1) i could not login. (2) the rss feed http://theoff.info/wordpress/?feed=rss2 got corrupted. the feed failed validation. i searched the web and wordpress support forum for solutions. i tried the following: (i) successfully reset the password (ii) deleted new plugins from ftp (iii) renamed theme folder by adding “-old” and plugin folder by adding “-hold” from ftp then i could login and up grade to 3.7.1 version and make changes to the blog. however, login is still an issue. every time i am following method mentioned in step (iii) to login. rss still does not validate. could you help in resolving both login and rss feed problems? note: my webhost does not offer technical help. i am not an it professional i.e. i have very little technical knowledge. thanks reply wpbeginner support says: nov 19, 2013 at 11:29 pm it is difficult to figure out. here is one thing you can try. 1. using ftp download your plugins to your computer for backup and then delete your plugins directory. 2. create a new plugins directory. 3. install and all your plugins one by one by downloading fresh copy of the plugin from the source. after you activate each plugin log out and and log back in to see if the problem occurs again. you will probably find a plugin that may be causing the problem or you wont. this could mean that a plugin file on your site may have been compromised. if this process does not help you, repeat this process process with your themes as well. if you have made a lot of changes to your existing themes then you might want to back it up on your computer by downloading theme folder through ftp. then delete themes folder from your webserver and create a new themes directory in wp-content folder on your server. from wordpress admin area download and install a fresh copy of default twenty thirteen theme. let us know what happens when you do all that. make sure to backup your site first. reply bertrand says: oct 26, 2013 at 5:28 am hello, when i try to open the new feed, i get an error message: fatal error: call to undefined function query_posts() in /xxxx/wp-content/themes/xxx/rss-feedname.php on line 6 i tried on localhost and web hosting, it is the same… how can i fix it? thanks reply bertrand says: oct 28, 2013 at 11:51 am my fault: http://wordpress.org/support/topic/error-message-call-to-undefined-function-query_posts?replies=5 reply adv says: oct 18, 2013 at 8:01 am does the php template need close tag ?> in the end? reply adv says: oct 18, 2013 at 9:03 am no, it doesn’t. silly me = ) reply leave a reply cancel reply thanks for choosing to leave a comment. please keep in mind that all comments are moderated according to our comment policy, and your email address will not be published. please do not use keywords in the name field. let's have a personal and meaningful conversation. don't subscribe all replies to my comments notify me of followup comments via e-mail. you can also subscribe without commenting. over 1,320,000+ readers get fresh content from wpbeginner featured wordpress plugin optinmonster convert website visitors into email subscribers. learn more » i need help with ... starting a blog wordpress performance wordpress security wordpress seo wordpress errors building an online store useful wordpress guides 7 best wordpress backup plugins compared (pros and cons) how to fix the error establishing a database connection in wordpress why you need a cdn for your wordpress blog? [infographic] 25 legit ways to make money online blogging with wordpress self hosted wordpress.org vs. free wordpress.com [infograph] free recording: wordpress workshop for beginners 24 must have wordpress plugins for business websites how to properly move your blog from wordpress.com to wordpress.org 5 best contact form plugins for wordpress compared which is the best wordpress popup plugin? (comparison) best woocommerce hosting in 2020 (comparison) how to fix the internal server error in wordpress how to install wordpress - complete wordpress installation tutorial why you should start building an email list right away how to properly move wordpress to a new domain without losing seo how to choose the best wordpress hosting for your website how to choose the best blogging platform (comparison) wordpress tutorials - 200+ step by step wordpress tutorials 5 best wordpress ecommerce plugins compared 5 best wordpress membership plugins (compared) 7 best email marketing services for small business (2020) how to choose the best domain registrar (compared) the truth about shared wordpress web hosting when do you really need managed wordpress hosting? 5 best drag and drop wordpress page builders compared how to switch from blogger to wordpress without losing google rankings how to properly switch from wix to wordpress (step by step) how to properly move from weebly to wordpress (step by step) do you really need a vps? best wordpress vps hosting compared how to properly move from squarespace to wordpress how to register a domain name (+ tip to get it for free) hostgator review - an honest look at speed & uptime (2020) siteground reviews from 1032 users & our experts (2020) bluehost review from real users + performance stats (2020) how much does it really cost to build a wordpress website? how to create an email newsletter the right way (step by step) 7 best crm software for small businesses (compared) how to create a free business email address in 5 minutes (step by step) how to install google analytics in wordpress for beginners how to move wordpress to a new host or server with no downtime why is wordpress free? what are the costs? what is the catch? how to make a website in 2020 – step by step guide deals & coupons (view all) connections pro coupon get 15% off on connections pro wordpress directory plugin. siteground coupon get 70% off siteground wordpress hosting. featured in about wpbeginner® wpbeginner is a free wordpress resource site for beginners. wpbeginner was founded in july 2009 by syed balkhi. the main goal of this site is to provide quality tips, tricks, hacks, and other wordpress resources that allows wordpress beginners to improve their site(s). site links about us contact us ftc disclosure privacy policy terms of service free blog setup our sites optinmonster monsterinsights wpforms seedprod nameboy rafflepress copyright © 2009 - 2020 wpbeginner llc. all rights reserved. wpbeginner® is a registered trademark. managed by awesome motive | wordpress hosting by siteground | wordpress cdn by maxcdn | wordpress security by sucuri.