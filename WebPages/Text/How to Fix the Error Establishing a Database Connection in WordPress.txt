wpbeginner beginner's guide for wordpress blog beginners guide news opinion showcase themes tutorials wordpress plugins start here how to start a blog create a website start an online store best website builder email marketing wordpress hosting deals bluehost coupon siteground coupon wp engine coupon hostgator coupon domain.com coupon constant contact view all deals » glossary videos products x ☰ beginner's guide for wordpress / start your wordpress blog in minutes choosing the best wordpress hosting how to easily install wordpress recommended wordpress plugins view all guides wpbeginner » blog » tutorials » how to fix the error establishing a database connection in wordpress how to fix the error establishing a database connection in wordpress last updated on january 14th, 2020 by editorial staff 728 shares share tweet share pin are you seeing the ‘error establishing a database connection’ notice on your wordpress website? it is a fatal error that makes your wordpress website inaccessible to the users. this error occurs when wordpress is unable to make a connection to the database. a number of things can affect your wordpress database connection which makes it a bit difficult for beginners to troubleshoot. in this article, we will show you how to easily fix the error establishing a database connection in wordpress. what causes error establishing a database connection in wordpress? the ‘error establishing a database connection’ issue can be caused by incorrect database information in your wordpress settings, corrupt database, or an irresponsive database server. a database is a software which makes it easy to store, organize, and retrieve data into other software. as a content management system, wordpress uses a database to store all your content and other website data. it then connects to the database each time someone visits your website. wordpress needs the following information for connecting to the database: database name database username database password database server this information is stored in your wordpress configuration file called wp-config.php. if any of these items are incorrect, wordpress would fail to connect to your database server, and you’ll see the ‘error establishing a database connection’ error. it is one of the most common wordpress errors. apart from incorrect credentials, this error can also appear if the database server is down, or the database files are corrupt. let’s take a look at how to fix error establishing database connection issue in wordpress with step by step troubleshooting. 1. check your wordpress database credentials the most common reason for database connection error in wordpress is incorrect database credentials. if you have recently moved your wordpress site to a new host, then this could be the most likely reason. your wordpress database credentials are stored in the wp-config.php file. it is the wordpress configuration file that contains important wordpress settings including database information. if you have not edited wp-config.php file before, then take a look at our guide on how to edit wp-config.php file in wordpress. you’ll be looking for the following lines in the wp-config.php file. 

// ** mysql settings - you can get this info from your web host ** //
/** the name of the database for wordpress */
define( 'db_name', 'database_name_here' );
/** mysql database username */
define( 'db_user', 'username_here' );
/** mysql database password */
define( 'db_password', 'password_here' );
/** mysql hostname */
define( 'db_host', 'localhost' );
 you need to make sure that the information for the database name, username, password, and database host is correct. you can confirm this information from your wordpress hosting account dashboard. simply log in to your hosting account and click on mysql databases under the database section. this will take you to the database management page in your hosting dashboad. from here, you can find out your database name and the username. below that you will find the database users and links to change the user password. once you have confirmed your database name, username, and password, you can change that information in your wp-config.php file if needed. after that, try visiting your website again to see if the database connection error has gone. if you can still see the error, then this means that something else is wrong. continue reading for more troubleshooting steps. 2. check your database host information if you are confident that your database name, username, and password information is correct, then you may want to make sure that you are using the correct database host information. most wordpress hosting companies use localhost as your database host. however, some managed wordpress hosting companies use separate servers to host databases. in that case, your database host information will not be localhost. you need to contact your wordpress hosting company to confirm your database host information. 3. repair wordpress database if you are getting a different error on the wp-admin, for instance, something like “one or more database tables are unavailable. the database may need to be repaired”, then you need to repair your database. you can do this by adding the following line in your wp-config.php file. make sure to add it just before ‘that’s all, stop editing! happy blogging’ line wp-config.php. define('wp_allow_repair', true); once you have done that, you can see the settings by visiting this page: http://www.yoursite.com/wp-admin/maint/repair.php note: the user does not need to be logged in to access the database repair page. once you are done repairing and optimizing your database, make sure to remove this code from your wp-config.php. 4. check if your database server is down if everything seems to be correct, and wordpress still cannot connect to the database, then your database server (mysql server) may be down. this could happen due to heavy traffic on a server. basically, your host server just cannot handle the load (especially when you are on shared hosting). your site will get really slow and for some users it may even output the error. so the best thing you should do is get on the phone or live chat with your hosting provider and ask them if your mysql server is responsive. if you have other websites running on the same server, then you can check those sites to confirm that your sql server is down. if you do not have any other site on the same hosting account, then simply go to your hosting dashboard and try to access phpmyadmin and connect the database. if you can connect, then we need to verify if your database user has sufficient permission. create a new file called testconnection.php and paste the following code in it: 
<?php
$link = mysqli_connect('localhost', 'username', 'password');
if (!$link) {
die('could not connect: ' . mysqli_error());
}
echo 'connected successfully';
mysqli_close($link);
?>
 make sure to replace the username and password. you can now upload this file to your website and access it via web browser. if the script connected successfully, then it means that your user has sufficient permission, and there is something else that is wrong. go back to your wp-config file to make sure that everything there is correct (re-scan for typos). other solutions that have worked for users if the above-mentioned troubleshooting tips failed to fix the database connection error on your website, then you may try these additional steps. reported by our users, these steps have helped some users resolve the database connection error on their websites. 1. update wordpress site url try updating the wordpress site url using phpmyadmin. simply access phpmyadmin from your hosting account dashboard, and select your wordpress database. after that click on the sql menu on the top and enter the following mysql query. 
update wp_options set option_value='your_site_url' where option_name='siteurl'
 don’t forget to provide your own site url and change wp_options to your own table name as you may have changed the wordpress table prefix. 2. rebooting web server users on dedicated servers, local server, and virtual private servers (vps) can try rebooting their servers. this will restart your web and database server which may fix some temporary glitches causing the error. 3. ask for help if everything else fails, then you may need to contact your web hosting company. all good wordpress hosting companies will help you troubleshoot the problem, point you in the right direction, or even fix it for you. you can also hire wordpress developers from codeable that can help you fix this issue for reasonable rates. the best part is that these developers are highly-vetted by codeable team, so you know they can be trusted. we hope this article helped you fix the error establishing a database connection in wordpress. you may also want to see our wordpress troubleshooting guide for tips on resolving wordpress issues on your own. if you liked this article, then please subscribe to our youtube channel for wordpress video tutorials. you can also find us on twitter and facebook. 728 shares share tweet share pin popular on wpbeginner right now! revealed: why building an email list is so important today (6 reasons) how to start your own podcast (step by step) how to fix the error establishing a database connection in wordpress how to install google analytics in wordpress for beginners about the editorial staff editorial staff at wpbeginner is a team of wordpress experts led by syed balkhi. trusted by over 1.3 million readers worldwide. 607 commentsleave a reply chuck whelon says: feb 29, 2020 at 5:12 pm very helpful thank you. reply wpbeginner support says: mar 2, 2020 at 11:29 am you’re welcome reply deborah n. says: nov 10, 2019 at 8:29 pm thanks. adding the repair code to my wp config file worked. i appreciate the article. it was straight forward and easy to follow. reply wpbeginner support says: nov 11, 2019 at 10:57 am you’re welcome, glad our recommendation was helpful reply bloggeryanke says: nov 9, 2019 at 5:56 pm your article was helpful i had changed my database password so it wasnt connecting to my blog properly but all thanks to your article the issue has been fixed reply wpbeginner support says: nov 11, 2019 at 10:45 am glad our recommendations could help reply joe marzi says: oct 22, 2019 at 2:19 am thank you for sharing such a nice blog. it will help the beginners of wordpress who are facing the problem regarding error establishing in the database connection. apart from that, it gives a step by step solution so, every reader can easily solve the problem. reply wpbeginner support says: oct 22, 2019 at 10:14 am you’re welcome, glad our articles can be helpful reply deepak says: oct 11, 2019 at 9:21 am thanks for such amazing information. i really liked your article. reply wpbeginner support says: oct 11, 2019 at 10:57 am you’re welcome, glad you liked our article reply irwin says: sep 12, 2019 at 2:49 pm i got this error after forcefully shutting my computer. after trying all these suggested methods and failing, i rebooted my computer and the database error was fixed. you should give it a try too if things go south. reply wpbeginner support says: sep 13, 2019 at 9:48 am thanks for sharing the solution that worked for you reply erik says: aug 20, 2019 at 11:22 pm awesome! very easy to follow and took minutes to solve. reply wpbeginner support says: aug 21, 2019 at 9:47 am glad our guide could be helpful reply bob says: jun 18, 2019 at 10:29 am yet again you guys come to my rescue. fixed in a couple of minutes. well done. reply wpbeginner support says: jun 18, 2019 at 10:35 am glad our guide could help reply nick aninsley says: may 16, 2019 at 7:52 am thank you so much for sharing this tutorial. actually, had installed wordpress, it shows me “error establishing a database connection” and i don’t know what to do. then i have searched on google and i found your this article and really it is very helpful for me and also many people who have no idea about this things. and my site were facing many other problems and only one of them has been solved. thank for article. reply wpbeginner support says: may 16, 2019 at 10:58 am glad our article could help reply emily says: may 14, 2019 at 11:33 pm i can’t back up my site or do any of what you suggest, because i cannot get into the administrative section of my blog. i can view it, as a viewer, but i have no access to anything more. i also cannot find anyway to contact people from wordpress! help!?!! reply wpbeginner support says: may 15, 2019 at 11:40 am you should be able to create a manual backup using the method here: https://www.wpbeginner.com/beginners-guide/how-to-make-a-wordpress-database-backup-manually/ if you reach out to your hosting provider they should be able to assist with getting you access back to your site reply waqas gulzar says: may 12, 2019 at 4:05 am guys, i have fixed it now for my website it was due to insufficient php memory i have updated my php.ini to increase the php memory reply wpbeginner support says: may 13, 2019 at 1:39 pm thanks for sharing the solution that worked for you reply pushkar says: jun 7, 2019 at 5:32 pm hi waqas, can you please advice how you updated my php.ini to increase the php memory. my site is down with the error “error establishing a database connection” and i suspect it is also to do with memory. reply wpbeginner support says: jun 10, 2019 at 11:33 am we have a guide you can follow here: https://www.wpbeginner.com/wp-tutorials/fix-wordpress-memory-exhausted-error-increase-php-memory/ reply ken says: may 10, 2019 at 10:22 pm i’m on bluehost and just upgraded to wp 5.2 and got the dreaded error message: “your php installation appears to be missing the mysql extension which is required by wordpress.” i tried with php 5.6, 7.0 & 7.1 – all give the same response. any ideas what i can try? my site is completely blocked by the error. reply wpbeginner support says: may 13, 2019 at 11:58 am if you reach out to bluehost they should be able to resolve that issue for you reply ravendra says: may 10, 2019 at 4:57 am hello i need your help please help me my website is showing error establishing a database connection how can i solve i don’t know please help me reply wpbeginner support says: may 10, 2019 at 11:32 am you would want to follow the troubleshooting steps in this article for that error. reply daniel says: apr 25, 2019 at 3:58 am i had this very same issue while using xampp. after using the “testconection.php” file and through some further trouble shooting, i discovered that my user account was set to connect to “any host” and by changing it to “localhost” the problem was solved. i suspect this error came about when i updated xampp and recreated the same named user. reply wpbeginner support says: apr 25, 2019 at 10:40 am thanks for sharing what worked for you reply della says: sep 7, 2019 at 12:31 pm for my case the correct response was by daniel. …i discovered that my user account was set to connect to “any host” and by changing it to “localhost” the problem was solved. thanks so much! reply jason says: apr 11, 2019 at 9:49 am i am getting this error on my localhost reply wpbeginner support says: apr 11, 2019 at 11:24 am the methods in this article should be able to help with localhost sites as well as hosted sites. reply dana jewel says: mar 28, 2019 at 10:43 am thanks for the article. hopefully it will help. reply wpbeginner support says: mar 28, 2019 at 11:13 am you’re welcome reply cosme fulanito says: feb 19, 2019 at 5:01 pm after succeed the “check your web host (mysql server)” test i change the host from 127.0.01 to localhost on the config.php file. that worked for me. reply wpbeginner support says: feb 20, 2019 at 10:56 am thanks for sharing your solution reply vinay mourya says: feb 10, 2019 at 10:40 pm hi, it is happening to my wordpress site only sometimes and when i reload the page site starts working again please suggest me a solution, for now, i am using cloudflare as cdn and wp rocket for caching plugin, the theme is newspaper premium. reply wpbeginner support says: feb 12, 2019 at 11:02 am if it is intermittent like that, you would want to reach out to your hosting provider and let them know and they should be able to assist. reply erick says: feb 4, 2019 at 1:12 am this solution helped me a lot. thanks so much. reply wpbeginner support says: feb 4, 2019 at 4:10 pm you’re welcome reply gee says: jan 5, 2019 at 7:44 pm same exact error i got “error establishing a database connection” but not all of the sollution you mentíon helped me. for me the mysql services was disabled: i went to services and start the mysql to automatic. the other thing was the ” log on ” to user was administrator and changed it to the account i created. now my wordpress site is working again. reply wpbeginner support says: jan 8, 2019 at 10:35 am thanks for sharing your solution to this issue for others reply umar says: jan 1, 2019 at 6:28 am i have a weird situation is, that the error establishing a database connection is only happening to one post in my blog while other posts are not showing this issue. reply rabda says: dec 31, 2018 at 7:25 am i am receiving this error one time on 3 and not always! i do not understand why and how to solve the problem reply wpbeginner support says: dec 31, 2018 at 2:04 pm you may want to try reaching out to your hosting provider to see if their error logs have information that can help find the root of the issue. reply ryan says: nov 25, 2018 at 9:04 am thanks so much, worked great, really appreciate how fast and to the point the video was, instead of a 7-10min extended one, boom, stright to the point! reply omar says: nov 15, 2018 at 11:59 am i fixed it by adding “:3306” to the mysql adress “localhost” in wp-config reply bob richardson says: nov 8, 2018 at 7:21 pm thanks so much for this post. saved me lots of time troubleshooting. i had changed my database password after a web hack and forgot to change wp-config file. your instructions are spot on. reply jelena says: oct 28, 2018 at 4:11 pm dude, you have just saved me tons of nerves! thank you so much. best wishes and god bless! reply parker beck says: oct 21, 2018 at 10:49 am i fixed it by deleting the mysql database and making a new by importing the backup. i did not need a fresh instance of wordpress. reply julia says: feb 24, 2019 at 7:46 am same here! after hours of debugging, reinstalling mysql and wp, deleting the wordpress database was the solution. thanks parker! reply filipa says: sep 28, 2018 at 2:46 pm i’m not a developer or have any background in file managing and i could follow your instructions easily. either i’m a genius or you’re awesome! or maybe both! reply yaser says: aug 26, 2018 at 12:19 pm thanks for the article. i had this error while setting up a local instance of wordpress running on wamp server on windows. *for me, it got solved when i changed the blank password of the localhost from phpmyadmin panel, * the password was blank so i suspect that’s the reason, or maybe changing the password updated some necessary files automatically. just wanted to share this ^-^ reply frenda chu says: aug 25, 2018 at 11:04 pm dear sirs, i’m a beginner making a big mistake of using all-in-one migration to export my website to a whole package(a “.wpress” file, containing old database information inside) unless using separated database files and then restored it on my new host. after that my website display”error establishing a database connection”. i have tried checking the config.php, but the database name is correct to my new host. i now understand that’ s a terrible way to migrate my web, however, i don’t have any backup. is there any method can help save this problem? reply wpbeginner support says: aug 26, 2018 at 2:06 am hi frenda, check your host, database name, and database password. these are the most likely culprits. reply askhar says: aug 9, 2018 at 10:00 pm thank you very much for the guide, i follow step by step, and now my web is better. the tutorial is very useful reply jon says: aug 7, 2018 at 4:17 am thanks very much for the article. i’m new to wordpress, and this error was pretty disconcerting. i got the error after a simple page edit today – not even fiddling with back end files. your advice on editing the wp config file fixed it straight away. thanks again! reply frans bouman says: aug 3, 2018 at 2:36 pm thanks immensely for the article. although my problem wasn’t identical to the problems given, changing the hosts file managed to get me pointing at the new (unpropogated) version of the web site and replacing localhost with the ip address in wp-config took care of all the problems with pointing to the active version of the site. now the new site is fully tested and i can shift servers safely. well done! reply nirjon says: jul 27, 2018 at 10:01 am i am getting this message when trying to add photos to my product page connection lost. saving has been disabled until you’re reconnected. we’re backing up this post in your browser, just in case. can please some one help me reply simon jackson says: jul 18, 2018 at 6:00 am thank you so much for sharing this step by step tutorial. actually, i have installed wordpress first time, it shows me “error establishing a database connection” and i don’t know what to do. then i have searched on google and i found your this article and really it is very helpful for me and also many people who have no idea about this things. reply witman says: jul 16, 2018 at 3:26 am i am getting this quite often on my reseller account and it affects my websites. i honestly don’t know what to do at this point. while my host company has been very supportive, it happens just about every time: jiffynaija.com reply niaz ahmed says: jul 15, 2018 at 6:17 am hello people, firstly i appreciate the effort taken by wpbeginner for creating all these articles and helping out people from their bad nightmares. here come my question, i had the same trouble i tried all the steps which was given below and it worked, but after every few hours later this screen appears again and again, now what is did is i restarted the server it worked but still i’m getting the same page every time. please somebody gimme a permanent solution for this it will be much appreciated. tia reply david says: jul 9, 2018 at 10:22 pm i had moved from one host to another. was getting the error. i had used a different database prefix on the new host. changing this in the wp-config.php solved the problem. /** * wordpress database table prefix. * * you can have multiple installations in one database if you give each a unique * prefix. only numbers, letters, and underscores please! */ $table_prefix = ‘newprefix_’; reply mila says: jun 26, 2018 at 5:20 pm i battled with mamp on macos sierra ver. 10.12.6 for a couple of days. after trying what seemed like everything, i finally gave up. with mamp, mysql would not start although apache did & phpmyadmin was throwing the same error about mysql. i uninstalled mamp and installed desktopserver and i’m so glad i did. it worked like a charm. it was incredibly easy! reply anmol says: may 25, 2018 at 8:10 am i have issue when open any post it shows this error what should i do how to fix this error—> notice: gettemplate was called incorrectly. templates/single//layout.php does not exist. please see debugging in wordpress for more information. reply louis says: may 10, 2018 at 12:00 pm i’ve created a site on localhost. i am using mamp. i tried to go live. when i changed the user password in mp-config file the error of not able to connect to serve appeared. i tried to change it back but if have been unable to get back to my login for wp. that’s where i’m not understanding. how do i know where the password and username should be matching up? reply ola says: jun 2, 2018 at 2:16 pm pls am trying to install wordpress on localhost and after entering my database username instead of taking me to the installation page, it keep bring error that “error establishing a database connection”. pls what can cause this error? and have done all the necessary things reply andrew johnson says: may 5, 2018 at 2:38 pm as soon as i saw the error i was like oh god there goes my day trying to sort this out! i hadn’t touched wordpress or my hosting account for ages, had forgotten everything and was like okay back to square one here. but this article’s fix worked like a charm (changing the password to the database and making sure it was the same in wp-config). saved me a huge headache. thank you! reply shach says: apr 27, 2018 at 2:27 pm hi, thanks for the effort to bring this post up. after some hours that i spent twiking and ftp-ing and phpmyadmin-ing, i finally got all my settings super-perfect, but still this anoyying message. so- i just openned my chat with bluehost, and once again they proved to be really fast in answering. with a click it was all up and alive. so- next time it will take me less time to open-up the chat box with them reply shawn rebelo says: apr 18, 2018 at 5:51 pm now to find out why it does this on localhost when there is no config file yet! trying to install for first time in another folder, but get this error? saying config in wp-config might incorrect? well ya… there is no file! reply piter says: apr 17, 2018 at 5:12 pm thanks for the article and the video, i fixed my problem as well. but why does it happen? very strange. reply gwen says: apr 12, 2018 at 8:25 pm i don’t understand where to find the file to access it and change it seeing as i can’t get into my wordpress account reply shahid says: apr 4, 2018 at 6:17 am thanks a lot, i have fixed my problem. reply anita elder says: mar 15, 2018 at 8:09 pm your fix really saved me a lot of time and energy….thanks!! reply dan logue says: feb 28, 2018 at 9:01 pm i’ve encountered the no database connection error. i can run a connect.php script using root and password which says connected successfully. to what is my question. just to my localhost server? root and password i used were those for my phpmyadmin login. a similar connect_db script using the actual wordpress database user and password fails. user and database password match the wp-config values. i’ve used the user root and its companion password in the wp db table but still get connection error. any help would be appreciated. reply colleen says: feb 21, 2018 at 2:03 pm has anyone seen this error? i’ve searched and searched, but can’t get an answer: insert intowp_contact_form_7(cf7_unit_id,title,form,mail,mail_2,messages,additional_settings) values (1,’contact form 1′,’your name (required)\r\n [text* your-name] </p #1064 – you have an error in your sql syntax; check the manual that corresponds to your mysql server version for the right syntax to use near ”your name (required)\r\n [text* your-name] </p’ at line 1 thanks! reply « 1 … 8 9 10 leave a reply cancel reply thanks for choosing to leave a comment. please keep in mind that all comments are moderated according to our comment policy, and your email address will not be published. please do not use keywords in the name field. let's have a personal and meaningful conversation. don't subscribe all replies to my comments notify me of followup comments via e-mail. you can also subscribe without commenting. over 1,320,000+ readers get fresh content from wpbeginner featured wordpress plugin rafflepress giveaway and contest plugin for wordpress. learn more » i need help with ... starting a blog wordpress performance wordpress security wordpress seo wordpress errors building an online store useful wordpress guides 7 best wordpress backup plugins compared (pros and cons) how to fix the error establishing a database connection in wordpress why you need a cdn for your wordpress blog? [infographic] 25 legit ways to make money online blogging with wordpress self hosted wordpress.org vs. free wordpress.com [infograph] free recording: wordpress workshop for beginners 24 must have wordpress plugins for business websites how to properly move your blog from wordpress.com to wordpress.org 5 best contact form plugins for wordpress compared which is the best wordpress popup plugin? (comparison) best woocommerce hosting in 2020 (comparison) how to fix the internal server error in wordpress how to install wordpress - complete wordpress installation tutorial why you should start building an email list right away how to properly move wordpress to a new domain without losing seo how to choose the best wordpress hosting for your website how to choose the best blogging platform (comparison) wordpress tutorials - 200+ step by step wordpress tutorials 5 best wordpress ecommerce plugins compared 5 best wordpress membership plugins (compared) 7 best email marketing services for small business (2020) how to choose the best domain registrar (compared) the truth about shared wordpress web hosting when do you really need managed wordpress hosting? 5 best drag and drop wordpress page builders compared how to switch from blogger to wordpress without losing google rankings how to properly switch from wix to wordpress (step by step) how to properly move from weebly to wordpress (step by step) do you really need a vps? best wordpress vps hosting compared how to properly move from squarespace to wordpress how to register a domain name (+ tip to get it for free) hostgator review - an honest look at speed & uptime (2020) siteground reviews from 1032 users & our experts (2020) bluehost review from real users + performance stats (2020) how much does it really cost to build a wordpress website? how to create an email newsletter the right way (step by step) 7 best crm software for small businesses (compared) how to create a free business email address in 5 minutes (step by step) how to install google analytics in wordpress for beginners how to move wordpress to a new host or server with no downtime why is wordpress free? what are the costs? what is the catch? how to make a website in 2020 – step by step guide deals & coupons (view all) enginethemes coupon get 20% off on enginethemes beautiful wordpress themes collection. ft calendar coupon get $10 off on full throttle calendar plugin (highly customizable and advanced wordpress plugin) featured in about wpbeginner® wpbeginner is a free wordpress resource site for beginners. wpbeginner was founded in july 2009 by syed balkhi. the main goal of this site is to provide quality tips, tricks, hacks, and other wordpress resources that allows wordpress beginners to improve their site(s). site links about us contact us ftc disclosure privacy policy terms of service free blog setup our sites optinmonster monsterinsights wpforms seedprod nameboy rafflepress copyright © 2009 - 2020 wpbeginner llc. all rights reserved. wpbeginner® is a registered trademark. managed by awesome motive | wordpress hosting by siteground | wordpress cdn by maxcdn | wordpress security by sucuri.